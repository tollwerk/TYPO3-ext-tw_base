!function(e,n){"use strict";var t=null;function i(t){this.delay=t,this.components={},this.resizables=[],this.callback=this.adapt.bind(this),this.count=0,this.breakpoint=this.currentBreakpoint(),this.resize()}i.prototype.currentBreakpoint=function(){var t=parseInt(e.getComputedStyle(n.documentElement).zIndex,10);return isNaN(t)?0:t},i.prototype.adaptComponent=function(t){for(var e,n=null,i=0;i<t.states.length;++i)if((null===(e=t.states[i]).lower||this.breakpoint>=e.lower)&&(null===e.upper||this.breakpoint<=e.upper)){n=i;break}n!==t.state&&(null!==t.state&&(t.states[t.state].teardown(),t.state=null),null!==n&&(t.states[n].setup(),t.state=n))},i.prototype.adapt=function(){for(var t in this.breakpoint=this.currentBreakpoint(),this.components)this.adaptComponent(this.components[t]);for(var e=0;e<this.resizables.length;++e)this.resizables[e]()},i.prototype.resize=function(){clearTimeout(t),t=setTimeout(this.callback,this.delay)},i.prototype.registerComponent=function(t,e,n,i,o,s){if(t.id=t.id||"bpm-"+this.count,e instanceof Array)for(var r,a=0;a<e.length;++a)e[a]instanceof Array&&((r=e[a]).unshift(t),r[5]=!0,this.registerComponent.apply(this,r));else{if("function"!=typeof i)throw"BreakpointManager: setup callback must be a function";if("function"!=typeof o)throw"BreakpointManager: teardown callback must be a function";t.id in this.components||(this.components[t.id]={state:null,states:[],element:t},++this.count),this.components[t.id].states.push({lower:e,upper:n,setup:i.bind(t),teardown:o.bind(t)})}return s||this.adaptComponent(this.components[t.id]),this.count},i.prototype.getCurrentBreakpoint=function(){return this.currentBreakpoint()},i.prototype.registerResizable=function(t){"function"==typeof t&&this.resizables.push(t)},i.prototype.deregisterResizable=function(e){"function"==typeof e&&(this.resizables=this.resizables.filter(function(t){return t!==e}))},i.prototype.listen=function(t){t.addEventListener("resize",this.resize.bind(this)),t.addEventListener("DOMContentLoaded",this.resize.bind(this))},"undefined"!=typeof exports?exports.BreakpointManager=new i(100):(e.Tollwerk.BreakpointManager=new i(100),e.Tollwerk.BreakpointManager.listen(e))}("undefined"!=typeof global?global:this,document);